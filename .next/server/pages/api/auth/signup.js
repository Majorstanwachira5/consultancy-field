"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/signup";
exports.ids = ["pages/api/auth/signup"];
exports.modules = {

/***/ "(api-node)/./lib/auth.js":
/*!*********************!*\
  !*** ./lib/auth.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSession: () => (/* binding */ createSession),\n/* harmony export */   generateToken: () => (/* binding */ generateToken),\n/* harmony export */   hashPassword: () => (/* binding */ hashPassword),\n/* harmony export */   revokeSession: () => (/* binding */ revokeSession),\n/* harmony export */   validateSession: () => (/* binding */ validateSession),\n/* harmony export */   verifyPassword: () => (/* binding */ verifyPassword),\n/* harmony export */   verifyToken: () => (/* binding */ verifyToken)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _prisma__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./prisma */ \"(api-node)/./lib/prisma.js\");\n\n\n\nconst hashPassword = async (password)=>{\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().hash(password, parseInt(process.env.BCRYPT_ROUNDS) || 12);\n};\nconst verifyPassword = async (password, hashedPassword)=>{\n    return bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().compare(password, hashedPassword);\n};\nconst generateToken = (userId)=>{\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().sign({\n        userId\n    }, process.env.JWT_SECRET, {\n        expiresIn: process.env.JWT_EXPIRES_IN || '7d'\n    });\n};\nconst verifyToken = (token)=>{\n    try {\n        return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, process.env.JWT_SECRET);\n    } catch (error) {\n        return null;\n    }\n};\nconst createSession = async (userId)=>{\n    const token = generateToken(userId);\n    const expiresAt = new Date(Date.now() + 7 * 24 * 60 * 60 * 1000) // 7 days\n    ;\n    await _prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.session.create({\n        data: {\n            userId,\n            token,\n            expiresAt\n        }\n    });\n    return token;\n};\nconst validateSession = async (token)=>{\n    if (!token) return null;\n    const session = await _prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.session.findUnique({\n        where: {\n            token\n        },\n        include: {\n            user: {\n                include: {\n                    role: true\n                }\n            }\n        }\n    });\n    if (!session || session.expiresAt < new Date()) {\n        if (session) {\n            await _prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.session.delete({\n                where: {\n                    id: session.id\n                }\n            });\n        }\n        return null;\n    }\n    return session.user;\n};\nconst revokeSession = async (token)=>{\n    await _prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.session.deleteMany({\n        where: {\n            token\n        }\n    });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi9hdXRoLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUE4QjtBQUNEO0FBQ0k7QUFFMUIsTUFBTUcsZUFBZSxPQUFPQztJQUNqQyxPQUFPSCxvREFBVyxDQUFDRyxVQUFVRSxTQUFTQyxRQUFRQyxHQUFHLENBQUNDLGFBQWEsS0FBSztBQUN0RSxFQUFDO0FBRU0sTUFBTUMsaUJBQWlCLE9BQU9OLFVBQVVPO0lBQzdDLE9BQU9WLHVEQUFjLENBQUNHLFVBQVVPO0FBQ2xDLEVBQUM7QUFFTSxNQUFNRSxnQkFBZ0IsQ0FBQ0M7SUFDNUIsT0FBT2Qsd0RBQVEsQ0FBQztRQUFFYztJQUFPLEdBQUdQLFFBQVFDLEdBQUcsQ0FBQ1EsVUFBVSxFQUFFO1FBQ2xEQyxXQUFXVixRQUFRQyxHQUFHLENBQUNVLGNBQWMsSUFBSTtJQUMzQztBQUNGLEVBQUM7QUFFTSxNQUFNQyxjQUFjLENBQUNDO0lBQzFCLElBQUk7UUFDRixPQUFPcEIsMERBQVUsQ0FBQ29CLE9BQU9iLFFBQVFDLEdBQUcsQ0FBQ1EsVUFBVTtJQUNqRCxFQUFFLE9BQU9NLE9BQU87UUFDZCxPQUFPO0lBQ1Q7QUFDRixFQUFDO0FBRU0sTUFBTUMsZ0JBQWdCLE9BQU9UO0lBQ2xDLE1BQU1NLFFBQVFQLGNBQWNDO0lBQzVCLE1BQU1VLFlBQVksSUFBSUMsS0FBS0EsS0FBS0MsR0FBRyxLQUFLLElBQUksS0FBSyxLQUFLLEtBQUssTUFBTSxTQUFTOztJQUUxRSxNQUFNeEIsMkNBQU1BLENBQUN5QixPQUFPLENBQUNDLE1BQU0sQ0FBQztRQUMxQkMsTUFBTTtZQUNKZjtZQUNBTTtZQUNBSTtRQUNGO0lBQ0Y7SUFFQSxPQUFPSjtBQUNULEVBQUM7QUFFTSxNQUFNVSxrQkFBa0IsT0FBT1Y7SUFDcEMsSUFBSSxDQUFDQSxPQUFPLE9BQU87SUFFbkIsTUFBTU8sVUFBVSxNQUFNekIsMkNBQU1BLENBQUN5QixPQUFPLENBQUNJLFVBQVUsQ0FBQztRQUM5Q0MsT0FBTztZQUFFWjtRQUFNO1FBQ2ZhLFNBQVM7WUFBRUMsTUFBTTtnQkFBRUQsU0FBUztvQkFBRUUsTUFBTTtnQkFBSztZQUFFO1FBQUU7SUFDL0M7SUFFQSxJQUFJLENBQUNSLFdBQVdBLFFBQVFILFNBQVMsR0FBRyxJQUFJQyxRQUFRO1FBQzlDLElBQUlFLFNBQVM7WUFDWCxNQUFNekIsMkNBQU1BLENBQUN5QixPQUFPLENBQUNTLE1BQU0sQ0FBQztnQkFBRUosT0FBTztvQkFBRUssSUFBSVYsUUFBUVUsRUFBRTtnQkFBQztZQUFFO1FBQzFEO1FBQ0EsT0FBTztJQUNUO0lBRUEsT0FBT1YsUUFBUU8sSUFBSTtBQUNyQixFQUFDO0FBRU0sTUFBTUksZ0JBQWdCLE9BQU9sQjtJQUNsQyxNQUFNbEIsMkNBQU1BLENBQUN5QixPQUFPLENBQUNZLFVBQVUsQ0FBQztRQUFFUCxPQUFPO1lBQUVaO1FBQU07SUFBRTtBQUNyRCxFQUFDIiwic291cmNlcyI6WyIvVXNlcnMvbWFjYm9va3Byby9jb25zdWx0YW5jeS1maWVsZC9saWIvYXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tICcuL3ByaXNtYSdcblxuZXhwb3J0IGNvbnN0IGhhc2hQYXNzd29yZCA9IGFzeW5jIChwYXNzd29yZCkgPT4ge1xuICByZXR1cm4gYmNyeXB0Lmhhc2gocGFzc3dvcmQsIHBhcnNlSW50KHByb2Nlc3MuZW52LkJDUllQVF9ST1VORFMpIHx8IDEyKVxufVxuXG5leHBvcnQgY29uc3QgdmVyaWZ5UGFzc3dvcmQgPSBhc3luYyAocGFzc3dvcmQsIGhhc2hlZFBhc3N3b3JkKSA9PiB7XG4gIHJldHVybiBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgaGFzaGVkUGFzc3dvcmQpXG59XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVRva2VuID0gKHVzZXJJZCkgPT4ge1xuICByZXR1cm4gand0LnNpZ24oeyB1c2VySWQgfSwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCwge1xuICAgIGV4cGlyZXNJbjogcHJvY2Vzcy5lbnYuSldUX0VYUElSRVNfSU4gfHwgJzdkJ1xuICB9KVxufVxuXG5leHBvcnQgY29uc3QgdmVyaWZ5VG9rZW4gPSAodG9rZW4pID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVClcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVTZXNzaW9uID0gYXN5bmMgKHVzZXJJZCkgPT4ge1xuICBjb25zdCB0b2tlbiA9IGdlbmVyYXRlVG9rZW4odXNlcklkKVxuICBjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApIC8vIDcgZGF5c1xuICBcbiAgYXdhaXQgcHJpc21hLnNlc3Npb24uY3JlYXRlKHtcbiAgICBkYXRhOiB7XG4gICAgICB1c2VySWQsXG4gICAgICB0b2tlbixcbiAgICAgIGV4cGlyZXNBdFxuICAgIH1cbiAgfSlcbiAgXG4gIHJldHVybiB0b2tlblxufVxuXG5leHBvcnQgY29uc3QgdmFsaWRhdGVTZXNzaW9uID0gYXN5bmMgKHRva2VuKSA9PiB7XG4gIGlmICghdG9rZW4pIHJldHVybiBudWxsXG4gIFxuICBjb25zdCBzZXNzaW9uID0gYXdhaXQgcHJpc21hLnNlc3Npb24uZmluZFVuaXF1ZSh7XG4gICAgd2hlcmU6IHsgdG9rZW4gfSxcbiAgICBpbmNsdWRlOiB7IHVzZXI6IHsgaW5jbHVkZTogeyByb2xlOiB0cnVlIH0gfSB9XG4gIH0pXG4gIFxuICBpZiAoIXNlc3Npb24gfHwgc2Vzc2lvbi5leHBpcmVzQXQgPCBuZXcgRGF0ZSgpKSB7XG4gICAgaWYgKHNlc3Npb24pIHtcbiAgICAgIGF3YWl0IHByaXNtYS5zZXNzaW9uLmRlbGV0ZSh7IHdoZXJlOiB7IGlkOiBzZXNzaW9uLmlkIH0gfSlcbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfVxuICBcbiAgcmV0dXJuIHNlc3Npb24udXNlclxufVxuXG5leHBvcnQgY29uc3QgcmV2b2tlU2Vzc2lvbiA9IGFzeW5jICh0b2tlbikgPT4ge1xuICBhd2FpdCBwcmlzbWEuc2Vzc2lvbi5kZWxldGVNYW55KHsgd2hlcmU6IHsgdG9rZW4gfSB9KVxufSJdLCJuYW1lcyI6WyJqd3QiLCJiY3J5cHQiLCJwcmlzbWEiLCJoYXNoUGFzc3dvcmQiLCJwYXNzd29yZCIsImhhc2giLCJwYXJzZUludCIsInByb2Nlc3MiLCJlbnYiLCJCQ1JZUFRfUk9VTkRTIiwidmVyaWZ5UGFzc3dvcmQiLCJoYXNoZWRQYXNzd29yZCIsImNvbXBhcmUiLCJnZW5lcmF0ZVRva2VuIiwidXNlcklkIiwic2lnbiIsIkpXVF9TRUNSRVQiLCJleHBpcmVzSW4iLCJKV1RfRVhQSVJFU19JTiIsInZlcmlmeVRva2VuIiwidG9rZW4iLCJ2ZXJpZnkiLCJlcnJvciIsImNyZWF0ZVNlc3Npb24iLCJleHBpcmVzQXQiLCJEYXRlIiwibm93Iiwic2Vzc2lvbiIsImNyZWF0ZSIsImRhdGEiLCJ2YWxpZGF0ZVNlc3Npb24iLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJpbmNsdWRlIiwidXNlciIsInJvbGUiLCJkZWxldGUiLCJpZCIsInJldm9rZVNlc3Npb24iLCJkZWxldGVNYW55Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./lib/auth.js\n");

/***/ }),

/***/ "(api-node)/./lib/prisma.js":
/*!***********************!*\
  !*** ./lib/prisma.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi9wcmlzbWEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZDO0FBRTdDLE1BQU1DLGtCQUFrQkM7QUFFakIsTUFBTUMsU0FBU0YsZ0JBQWdCRSxNQUFNLElBQUksSUFBSUgsd0RBQVlBLEdBQUU7QUFFbEUsSUFBSUksSUFBcUMsRUFBRUgsZ0JBQWdCRSxNQUFNLEdBQUdBIiwic291cmNlcyI6WyIvVXNlcnMvbWFjYm9va3Byby9jb25zdWx0YW5jeS1maWVsZC9saWIvcHJpc21hLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gJ0BwcmlzbWEvY2xpZW50J1xuXG5jb25zdCBnbG9iYWxGb3JQcmlzbWEgPSBnbG9iYWxUaGlzXG5cbmV4cG9ydCBjb25zdCBwcmlzbWEgPSBnbG9iYWxGb3JQcmlzbWEucHJpc21hIHx8IG5ldyBQcmlzbWFDbGllbnQoKVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA9IHByaXNtYSJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwicHJpc21hIiwicHJvY2VzcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./lib/prisma.js\n");

/***/ }),

/***/ "(api-node)/./lib/validation.js":
/*!***************************!*\
  !*** ./lib/validation.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   changePasswordSchema: () => (/* binding */ changePasswordSchema),\n/* harmony export */   loginSchema: () => (/* binding */ loginSchema),\n/* harmony export */   signupSchema: () => (/* binding */ signupSchema),\n/* harmony export */   updateUserSchema: () => (/* binding */ updateUserSchema)\n/* harmony export */ });\n/* harmony import */ var joi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! joi */ \"joi\");\n/* harmony import */ var joi__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(joi__WEBPACK_IMPORTED_MODULE_0__);\n\nconst signupSchema = joi__WEBPACK_IMPORTED_MODULE_0___default().object({\n    firstName: joi__WEBPACK_IMPORTED_MODULE_0___default().string().min(2).max(50).required(),\n    lastName: joi__WEBPACK_IMPORTED_MODULE_0___default().string().min(2).max(50).required(),\n    email: joi__WEBPACK_IMPORTED_MODULE_0___default().string().email().required(),\n    phone: joi__WEBPACK_IMPORTED_MODULE_0___default().string().pattern(/^\\+?[\\d\\s\\-\\(\\)]+$/).optional(),\n    password: joi__WEBPACK_IMPORTED_MODULE_0___default().string().min(8).pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/).required().messages({\n        'string.pattern.base': 'Password must contain at least one lowercase letter, one uppercase letter, and one number'\n    }),\n    roleId: joi__WEBPACK_IMPORTED_MODULE_0___default().string().required()\n});\nconst loginSchema = joi__WEBPACK_IMPORTED_MODULE_0___default().object({\n    email: joi__WEBPACK_IMPORTED_MODULE_0___default().string().email().required(),\n    password: joi__WEBPACK_IMPORTED_MODULE_0___default().string().required()\n});\nconst updateUserSchema = joi__WEBPACK_IMPORTED_MODULE_0___default().object({\n    firstName: joi__WEBPACK_IMPORTED_MODULE_0___default().string().min(2).max(50).optional(),\n    lastName: joi__WEBPACK_IMPORTED_MODULE_0___default().string().min(2).max(50).optional(),\n    phone: joi__WEBPACK_IMPORTED_MODULE_0___default().string().pattern(/^\\+?[\\d\\s\\-\\(\\)]+$/).optional(),\n    roleId: joi__WEBPACK_IMPORTED_MODULE_0___default().string().optional()\n});\nconst changePasswordSchema = joi__WEBPACK_IMPORTED_MODULE_0___default().object({\n    currentPassword: joi__WEBPACK_IMPORTED_MODULE_0___default().string().required(),\n    newPassword: joi__WEBPACK_IMPORTED_MODULE_0___default().string().min(8).pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)/).required()\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi92YWxpZGF0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFxQjtBQUVkLE1BQU1DLGVBQWVELGlEQUFVLENBQUM7SUFDckNHLFdBQVdILGlEQUFVLEdBQUdLLEdBQUcsQ0FBQyxHQUFHQyxHQUFHLENBQUMsSUFBSUMsUUFBUTtJQUMvQ0MsVUFBVVIsaURBQVUsR0FBR0ssR0FBRyxDQUFDLEdBQUdDLEdBQUcsQ0FBQyxJQUFJQyxRQUFRO0lBQzlDRSxPQUFPVCxpREFBVSxHQUFHUyxLQUFLLEdBQUdGLFFBQVE7SUFDcENHLE9BQU9WLGlEQUFVLEdBQUdXLE9BQU8sQ0FBQyxzQkFBc0JDLFFBQVE7SUFDMURDLFVBQVViLGlEQUFVLEdBQUdLLEdBQUcsQ0FBQyxHQUFHTSxPQUFPLENBQUMsbUNBQW1DSixRQUFRLEdBQzlFTyxRQUFRLENBQUM7UUFDUix1QkFBdUI7SUFDekI7SUFDRkMsUUFBUWYsaURBQVUsR0FBR08sUUFBUTtBQUMvQixHQUFFO0FBRUssTUFBTVMsY0FBY2hCLGlEQUFVLENBQUM7SUFDcENTLE9BQU9ULGlEQUFVLEdBQUdTLEtBQUssR0FBR0YsUUFBUTtJQUNwQ00sVUFBVWIsaURBQVUsR0FBR08sUUFBUTtBQUNqQyxHQUFFO0FBRUssTUFBTVUsbUJBQW1CakIsaURBQVUsQ0FBQztJQUN6Q0csV0FBV0gsaURBQVUsR0FBR0ssR0FBRyxDQUFDLEdBQUdDLEdBQUcsQ0FBQyxJQUFJTSxRQUFRO0lBQy9DSixVQUFVUixpREFBVSxHQUFHSyxHQUFHLENBQUMsR0FBR0MsR0FBRyxDQUFDLElBQUlNLFFBQVE7SUFDOUNGLE9BQU9WLGlEQUFVLEdBQUdXLE9BQU8sQ0FBQyxzQkFBc0JDLFFBQVE7SUFDMURHLFFBQVFmLGlEQUFVLEdBQUdZLFFBQVE7QUFDL0IsR0FBRTtBQUVLLE1BQU1NLHVCQUF1QmxCLGlEQUFVLENBQUM7SUFDN0NtQixpQkFBaUJuQixpREFBVSxHQUFHTyxRQUFRO0lBQ3RDYSxhQUFhcEIsaURBQVUsR0FBR0ssR0FBRyxDQUFDLEdBQUdNLE9BQU8sQ0FBQyxtQ0FBbUNKLFFBQVE7QUFDdEYsR0FBRSIsInNvdXJjZXMiOlsiL1VzZXJzL21hY2Jvb2twcm8vY29uc3VsdGFuY3ktZmllbGQvbGliL3ZhbGlkYXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEpvaSBmcm9tICdqb2knXG5cbmV4cG9ydCBjb25zdCBzaWdudXBTY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgZmlyc3ROYW1lOiBKb2kuc3RyaW5nKCkubWluKDIpLm1heCg1MCkucmVxdWlyZWQoKSxcbiAgbGFzdE5hbWU6IEpvaS5zdHJpbmcoKS5taW4oMikubWF4KDUwKS5yZXF1aXJlZCgpLFxuICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgcGhvbmU6IEpvaS5zdHJpbmcoKS5wYXR0ZXJuKC9eXFwrP1tcXGRcXHNcXC1cXChcXCldKyQvKS5vcHRpb25hbCgpLFxuICBwYXNzd29yZDogSm9pLnN0cmluZygpLm1pbig4KS5wYXR0ZXJuKC9eKD89LipbYS16XSkoPz0uKltBLVpdKSg/PS4qXFxkKS8pLnJlcXVpcmVkKClcbiAgICAubWVzc2FnZXMoe1xuICAgICAgJ3N0cmluZy5wYXR0ZXJuLmJhc2UnOiAnUGFzc3dvcmQgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBsb3dlcmNhc2UgbGV0dGVyLCBvbmUgdXBwZXJjYXNlIGxldHRlciwgYW5kIG9uZSBudW1iZXInXG4gICAgfSksXG4gIHJvbGVJZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKClcbn0pXG5cbmV4cG9ydCBjb25zdCBsb2dpblNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICBlbWFpbDogSm9pLnN0cmluZygpLmVtYWlsKCkucmVxdWlyZWQoKSxcbiAgcGFzc3dvcmQ6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpXG59KVxuXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlclNjaGVtYSA9IEpvaS5vYmplY3Qoe1xuICBmaXJzdE5hbWU6IEpvaS5zdHJpbmcoKS5taW4oMikubWF4KDUwKS5vcHRpb25hbCgpLFxuICBsYXN0TmFtZTogSm9pLnN0cmluZygpLm1pbigyKS5tYXgoNTApLm9wdGlvbmFsKCksXG4gIHBob25lOiBKb2kuc3RyaW5nKCkucGF0dGVybigvXlxcKz9bXFxkXFxzXFwtXFwoXFwpXSskLykub3B0aW9uYWwoKSxcbiAgcm9sZUlkOiBKb2kuc3RyaW5nKCkub3B0aW9uYWwoKVxufSlcblxuZXhwb3J0IGNvbnN0IGNoYW5nZVBhc3N3b3JkU2NoZW1hID0gSm9pLm9iamVjdCh7XG4gIGN1cnJlbnRQYXNzd29yZDogSm9pLnN0cmluZygpLnJlcXVpcmVkKCksXG4gIG5ld1Bhc3N3b3JkOiBKb2kuc3RyaW5nKCkubWluKDgpLnBhdHRlcm4oL14oPz0uKlthLXpdKSg/PS4qW0EtWl0pKD89LipcXGQpLykucmVxdWlyZWQoKVxufSkiXSwibmFtZXMiOlsiSm9pIiwic2lnbnVwU2NoZW1hIiwib2JqZWN0IiwiZmlyc3ROYW1lIiwic3RyaW5nIiwibWluIiwibWF4IiwicmVxdWlyZWQiLCJsYXN0TmFtZSIsImVtYWlsIiwicGhvbmUiLCJwYXR0ZXJuIiwib3B0aW9uYWwiLCJwYXNzd29yZCIsIm1lc3NhZ2VzIiwicm9sZUlkIiwibG9naW5TY2hlbWEiLCJ1cGRhdGVVc2VyU2NoZW1hIiwiY2hhbmdlUGFzc3dvcmRTY2hlbWEiLCJjdXJyZW50UGFzc3dvcmQiLCJuZXdQYXNzd29yZCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./lib/validation.js\n");

/***/ }),

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fsignup&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2Fsignup.js&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fsignup&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2Fsignup.js&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   handler: () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/api-utils */ \"(api-node)/./node_modules/next/dist/server/api-utils/index.js\");\n/* harmony import */ var next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_auth_signup_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pages/api/auth/signup.js */ \"(api-node)/./pages/api/auth/signup.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(api-node)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(api-node)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n// Import the userland code.\n\n\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_3__.hoist)(_pages_api_auth_signup_js__WEBPACK_IMPORTED_MODULE_4__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_3__.hoist)(_pages_api_auth_signup_js__WEBPACK_IMPORTED_MODULE_4__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/auth/signup\",\n        pathname: \"/api/auth/signup\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_auth_signup_js__WEBPACK_IMPORTED_MODULE_4__,\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || ''\n});\nasync function handler(req, res, ctx) {\n    let srcPage = \"/api/auth/signup\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {}\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return;\n    }\n    const { query, params, prerenderManifest, routerServerContext } = prepareResult;\n    try {\n        const method = req.method || 'GET';\n        const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__.getTracer)();\n        const activeSpan = tracer.getActiveScopeSpan();\n        const onRequestError = routeModule.instrumentationOnRequestError.bind(routeModule);\n        const invokeRouteModule = async (span)=>routeModule.render(req, res, {\n                query: {\n                    ...query,\n                    ...params\n                },\n                params,\n                allowedRevalidateHeaderKeys: [],\n                multiZoneDraftMode: Boolean(false),\n                trustHostHeader: false,\n                // TODO: get this from from runtime env so manifest\n                // doesn't need to load\n                previewProps: prerenderManifest.preview,\n                propagateError: false,\n                dev: routeModule.isDev,\n                page: \"/api/auth/signup\",\n                internalRevalidate: routerServerContext == null ? void 0 : routerServerContext.revalidate,\n                onError: (...args)=>onRequestError(req, ...args)\n            }).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await invokeRouteModule(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, invokeRouteModule));\n        }\n    } catch (err) {\n        // we re-throw in dev to show the error overlay\n        if (routeModule.isDev) {\n            throw err;\n        }\n        // this is technically an invariant as error handling\n        // should be done inside of api-resolver onError\n        (0,next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0__.sendError)(res, 500, 'Internal Server Error');\n    } finally{\n        // We don't allow any waitUntil work in pages API routes currently\n        // so if callback is present return with resolved promise since no\n        // pending work\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n    }\n}\n\n//# sourceMappingURL=pages-api.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGYXV0aCUyRnNpZ251cCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGYXV0aCUyRnNpZ251cC5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBdUQ7QUFDQztBQUN1QztBQUNyQztBQUMxRDtBQUN1RDtBQUNpQjtBQUNGO0FBQ3RFO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxzREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsc0RBQVE7QUFDcEM7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixhQUFhLE9BQW9DLElBQUksQ0FBRTtBQUN2RCx3QkFBd0IsTUFBdUM7QUFDL0QsQ0FBQztBQUNNO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLEtBQXFCLEVBQUUsRUFFMUI7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksd0RBQXdEO0FBQ3BFO0FBQ0E7QUFDQSx1QkFBdUIsNEVBQVM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsNkNBQTZDLEVBQTZDO0FBQzFGLDRDQUE0QyxLQUF3QztBQUNwRixpQ0FBaUMsS0FBb0M7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLGdGQUFjO0FBQy9FLCtEQUErRCx5Q0FBeUM7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsUUFBUSxFQUFFLE1BQU07QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxrQkFBa0I7QUFDbEIsdUNBQXVDLFFBQVEsRUFBRSxRQUFRO0FBQ3pEO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLDZFQUE2RSxnRkFBYztBQUMzRixpQ0FBaUMsUUFBUSxFQUFFLFFBQVE7QUFDbkQsMEJBQTBCLHVFQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEscUVBQVM7QUFDakIsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNlbmRFcnJvciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2FwaS11dGlsc1wiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9hcGkvYXV0aC9zaWdudXAuanNcIjtcbmltcG9ydCB7IGdldFRyYWNlciwgU3BhbktpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvdHJhY2VyXCI7XG5pbXBvcnQgeyBCYXNlU2VydmVyU3BhbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi90cmFjZS9jb25zdGFudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYXV0aC9zaWdudXBcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL3NpZ251cFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJydcbiAgICB9LFxuICAgIHVzZXJsYW5kLFxuICAgIGRpc3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9ESVNUX0RJUiB8fCAnJyxcbiAgICByZWxhdGl2ZVByb2plY3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9QUk9KRUNUX0RJUiB8fCAnJ1xufSk7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcywgY3R4KSB7XG4gICAgbGV0IHNyY1BhZ2UgPSBcIi9hcGkvYXV0aC9zaWdudXBcIjtcbiAgICAvLyB0dXJib3BhY2sgZG9lc24ndCBub3JtYWxpemUgYC9pbmRleGAgaW4gdGhlIHBhZ2UgbmFtZVxuICAgIC8vIHNvIHdlIG5lZWQgdG8gdG8gcHJvY2VzcyBkeW5hbWljIHJvdXRlcyBwcm9wZXJseVxuICAgIC8vIFRPRE86IGZpeCB0dXJib3BhY2sgcHJvdmlkaW5nIGRpZmZlcmluZyB2YWx1ZSBmcm9tIHdlYnBhY2tcbiAgICBpZiAocHJvY2Vzcy5lbnYuVFVSQk9QQUNLKSB7XG4gICAgICAgIHNyY1BhZ2UgPSBzcmNQYWdlLnJlcGxhY2UoL1xcL2luZGV4JC8sICcnKSB8fCAnLyc7XG4gICAgfVxuICAgIGNvbnN0IHByZXBhcmVSZXN1bHQgPSBhd2FpdCByb3V0ZU1vZHVsZS5wcmVwYXJlKHJlcSwgcmVzLCB7XG4gICAgICAgIHNyY1BhZ2VcbiAgICB9KTtcbiAgICBpZiAoIXByZXBhcmVSZXN1bHQpIHtcbiAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDA7XG4gICAgICAgIHJlcy5lbmQoJ0JhZCBSZXF1ZXN0Jyk7XG4gICAgICAgIGN0eC53YWl0VW50aWwgPT0gbnVsbCA/IHZvaWQgMCA6IGN0eC53YWl0VW50aWwuY2FsbChjdHgsIFByb21pc2UucmVzb2x2ZSgpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB7IHF1ZXJ5LCBwYXJhbXMsIHByZXJlbmRlck1hbmlmZXN0LCByb3V0ZXJTZXJ2ZXJDb250ZXh0IH0gPSBwcmVwYXJlUmVzdWx0O1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IHJlcS5tZXRob2QgfHwgJ0dFVCc7XG4gICAgICAgIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcigpO1xuICAgICAgICBjb25zdCBhY3RpdmVTcGFuID0gdHJhY2VyLmdldEFjdGl2ZVNjb3BlU3BhbigpO1xuICAgICAgICBjb25zdCBvblJlcXVlc3RFcnJvciA9IHJvdXRlTW9kdWxlLmluc3RydW1lbnRhdGlvbk9uUmVxdWVzdEVycm9yLmJpbmQocm91dGVNb2R1bGUpO1xuICAgICAgICBjb25zdCBpbnZva2VSb3V0ZU1vZHVsZSA9IGFzeW5jIChzcGFuKT0+cm91dGVNb2R1bGUucmVuZGVyKHJlcSwgcmVzLCB7XG4gICAgICAgICAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucXVlcnksXG4gICAgICAgICAgICAgICAgICAgIC4uLnBhcmFtc1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgICAgIGFsbG93ZWRSZXZhbGlkYXRlSGVhZGVyS2V5czogcHJvY2Vzcy5lbnYuX19ORVhUX0FMTE9XRURfUkVWQUxJREFURV9IRUFERVJTLFxuICAgICAgICAgICAgICAgIG11bHRpWm9uZURyYWZ0TW9kZTogQm9vbGVhbihwcm9jZXNzLmVudi5fX05FWFRfTVVMVElfWk9ORV9EUkFGVF9NT0RFKSxcbiAgICAgICAgICAgICAgICB0cnVzdEhvc3RIZWFkZXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9UUlVTVF9IT1NUX0hFQURFUixcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBnZXQgdGhpcyBmcm9tIGZyb20gcnVudGltZSBlbnYgc28gbWFuaWZlc3RcbiAgICAgICAgICAgICAgICAvLyBkb2Vzbid0IG5lZWQgdG8gbG9hZFxuICAgICAgICAgICAgICAgIHByZXZpZXdQcm9wczogcHJlcmVuZGVyTWFuaWZlc3QucHJldmlldyxcbiAgICAgICAgICAgICAgICBwcm9wYWdhdGVFcnJvcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgZGV2OiByb3V0ZU1vZHVsZS5pc0RldixcbiAgICAgICAgICAgICAgICBwYWdlOiBcIi9hcGkvYXV0aC9zaWdudXBcIixcbiAgICAgICAgICAgICAgICBpbnRlcm5hbFJldmFsaWRhdGU6IHJvdXRlclNlcnZlckNvbnRleHQgPT0gbnVsbCA/IHZvaWQgMCA6IHJvdXRlclNlcnZlckNvbnRleHQucmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICBvbkVycm9yOiAoLi4uYXJncyk9Pm9uUmVxdWVzdEVycm9yKHJlcSwgLi4uYXJncylcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCk9PntcbiAgICAgICAgICAgICAgICBpZiAoIXNwYW4pIHJldHVybjtcbiAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAnaHR0cC5zdGF0dXNfY29kZSc6IHJlcy5zdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgICAnbmV4dC5yc2MnOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RTcGFuQXR0cmlidXRlcyA9IHRyYWNlci5nZXRSb290U3BhbkF0dHJpYnV0ZXMoKTtcbiAgICAgICAgICAgICAgICAvLyBXZSB3ZXJlIHVuYWJsZSB0byBnZXQgYXR0cmlidXRlcywgcHJvYmFibHkgT1RFTCBpcyBub3QgZW5hYmxlZFxuICAgICAgICAgICAgICAgIGlmICghcm9vdFNwYW5BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJykgIT09IEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBVbmV4cGVjdGVkIHJvb3Qgc3BhbiB0eXBlICcke3Jvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJyl9Jy4gUGxlYXNlIHJlcG9ydCB0aGlzIE5leHQuanMgaXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL3ZlcmNlbC9uZXh0LmpzYCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgcm91dGUgPSByb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnJvdXRlJyk7XG4gICAgICAgICAgICAgICAgaWYgKHJvdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBgJHttZXRob2R9ICR7cm91dGV9YDtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQuc3Bhbl9uYW1lJzogbmFtZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKG5hbWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShgJHttZXRob2R9ICR7cmVxLnVybH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgLy8gVE9ETzogYWN0aXZlU3BhbiBjb2RlIHBhdGggaXMgZm9yIHdoZW4gd3JhcHBlZCBieVxuICAgICAgICAvLyBuZXh0LXNlcnZlciBjYW4gYmUgcmVtb3ZlZCB3aGVuIHRoaXMgaXMgbm8gbG9uZ2VyIHVzZWRcbiAgICAgICAgaWYgKGFjdGl2ZVNwYW4pIHtcbiAgICAgICAgICAgIGF3YWl0IGludm9rZVJvdXRlTW9kdWxlKGFjdGl2ZVNwYW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgdHJhY2VyLndpdGhQcm9wYWdhdGVkQ29udGV4dChyZXEuaGVhZGVycywgKCk9PnRyYWNlci50cmFjZShCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0LCB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW5OYW1lOiBgJHttZXRob2R9ICR7cmVxLnVybH1gLFxuICAgICAgICAgICAgICAgICAgICBraW5kOiBTcGFuS2luZC5TRVJWRVIsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLm1ldGhvZCc6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnRhcmdldCc6IHJlcS51cmxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGludm9rZVJvdXRlTW9kdWxlKSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gd2UgcmUtdGhyb3cgaW4gZGV2IHRvIHNob3cgdGhlIGVycm9yIG92ZXJsYXlcbiAgICAgICAgaWYgKHJvdXRlTW9kdWxlLmlzRGV2KSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcyBpcyB0ZWNobmljYWxseSBhbiBpbnZhcmlhbnQgYXMgZXJyb3IgaGFuZGxpbmdcbiAgICAgICAgLy8gc2hvdWxkIGJlIGRvbmUgaW5zaWRlIG9mIGFwaS1yZXNvbHZlciBvbkVycm9yXG4gICAgICAgIHNlbmRFcnJvcihyZXMsIDUwMCwgJ0ludGVybmFsIFNlcnZlciBFcnJvcicpO1xuICAgIH0gZmluYWxseXtcbiAgICAgICAgLy8gV2UgZG9uJ3QgYWxsb3cgYW55IHdhaXRVbnRpbCB3b3JrIGluIHBhZ2VzIEFQSSByb3V0ZXMgY3VycmVudGx5XG4gICAgICAgIC8vIHNvIGlmIGNhbGxiYWNrIGlzIHByZXNlbnQgcmV0dXJuIHdpdGggcmVzb2x2ZWQgcHJvbWlzZSBzaW5jZSBub1xuICAgICAgICAvLyBwZW5kaW5nIHdvcmtcbiAgICAgICAgY3R4LndhaXRVbnRpbCA9PSBudWxsID8gdm9pZCAwIDogY3R4LndhaXRVbnRpbC5jYWxsKGN0eCwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fsignup&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2Fsignup.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/auth/signup.js":
/*!**********************************!*\
  !*** ./pages/api/auth/signup.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _services_userService__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../services/userService */ \"(api-node)/./services/userService.js\");\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cookie */ \"cookie\");\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cookie__WEBPACK_IMPORTED_MODULE_1__);\n\n\nasync function handler(req, res) {\n    if (req.method !== 'POST') {\n        return res.status(405).json({\n            error: 'Method not allowed'\n        });\n    }\n    try {\n        const result = await _services_userService__WEBPACK_IMPORTED_MODULE_0__.UserService.createUser(req.body);\n        // Set HTTP-only cookie\n        const cookie = (0,cookie__WEBPACK_IMPORTED_MODULE_1__.serialize)('token', result.token, {\n            httpOnly: true,\n            secure: \"development\" === 'production',\n            sameSite: 'strict',\n            maxAge: 7 * 24 * 60 * 60,\n            path: '/'\n        });\n        res.setHeader('Set-Cookie', cookie);\n        res.json({\n            success: true,\n            user: result.user\n        });\n    } catch (error) {\n        res.status(400).json({\n            error: error.message\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3BhZ2VzL2FwaS9hdXRoL3NpZ251cC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJEO0FBQ3pCO0FBRW5CLGVBQWVFLFFBQVFDLEdBQUcsRUFBRUMsR0FBRztJQUM1QyxJQUFJRCxJQUFJRSxNQUFNLEtBQUssUUFBUTtRQUN6QixPQUFPRCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBcUI7SUFDNUQ7SUFFQSxJQUFJO1FBQ0YsTUFBTUMsU0FBUyxNQUFNVCw4REFBV0EsQ0FBQ1UsVUFBVSxDQUFDUCxJQUFJUSxJQUFJO1FBRXBELHVCQUF1QjtRQUN2QixNQUFNQyxTQUFTWCxpREFBU0EsQ0FBQyxTQUFTUSxPQUFPSSxLQUFLLEVBQUU7WUFDOUNDLFVBQVU7WUFDVkMsUUFBUUMsa0JBQXlCO1lBQ2pDQyxVQUFVO1lBQ1ZDLFFBQVEsSUFBSSxLQUFLLEtBQUs7WUFDdEJDLE1BQU07UUFDUjtRQUVBZixJQUFJZ0IsU0FBUyxDQUFDLGNBQWNSO1FBQzVCUixJQUFJRyxJQUFJLENBQUM7WUFBRWMsU0FBUztZQUFNQyxNQUFNYixPQUFPYSxJQUFJO1FBQUM7SUFDOUMsRUFBRSxPQUFPZCxPQUFPO1FBQ2RKLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBT0EsTUFBTWUsT0FBTztRQUFDO0lBQzlDO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWNib29rcHJvL2NvbnN1bHRhbmN5LWZpZWxkL3BhZ2VzL2FwaS9hdXRoL3NpZ251cC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVc2VyU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL3NlcnZpY2VzL3VzZXJTZXJ2aWNlJ1xuaW1wb3J0IHsgc2VyaWFsaXplIH0gZnJvbSAnY29va2llJ1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XG4gIGlmIChyZXEubWV0aG9kICE9PSAnUE9TVCcpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSlcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgVXNlclNlcnZpY2UuY3JlYXRlVXNlcihyZXEuYm9keSlcbiAgICBcbiAgICAvLyBTZXQgSFRUUC1vbmx5IGNvb2tpZVxuICAgIGNvbnN0IGNvb2tpZSA9IHNlcmlhbGl6ZSgndG9rZW4nLCByZXN1bHQudG9rZW4sIHtcbiAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nLFxuICAgICAgc2FtZVNpdGU6ICdzdHJpY3QnLFxuICAgICAgbWF4QWdlOiA3ICogMjQgKiA2MCAqIDYwLCAvLyA3IGRheXNcbiAgICAgIHBhdGg6ICcvJ1xuICAgIH0pXG4gICAgXG4gICAgcmVzLnNldEhlYWRlcignU2V0LUNvb2tpZScsIGNvb2tpZSlcbiAgICByZXMuanNvbih7IHN1Y2Nlc3M6IHRydWUsIHVzZXI6IHJlc3VsdC51c2VyIH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KVxuICB9XG59XG4iXSwibmFtZXMiOlsiVXNlclNlcnZpY2UiLCJzZXJpYWxpemUiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwicmVzdWx0IiwiY3JlYXRlVXNlciIsImJvZHkiLCJjb29raWUiLCJ0b2tlbiIsImh0dHBPbmx5Iiwic2VjdXJlIiwicHJvY2VzcyIsInNhbWVTaXRlIiwibWF4QWdlIiwicGF0aCIsInNldEhlYWRlciIsInN1Y2Nlc3MiLCJ1c2VyIiwibWVzc2FnZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/auth/signup.js\n");

/***/ }),

/***/ "(api-node)/./services/userService.js":
/*!*********************************!*\
  !*** ./services/userService.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UserService: () => (/* binding */ UserService)\n/* harmony export */ });\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/prisma */ \"(api-node)/./lib/prisma.js\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/auth */ \"(api-node)/./lib/auth.js\");\n/* harmony import */ var _lib_validation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/validation */ \"(api-node)/./lib/validation.js\");\n\n\n\nclass UserService {\n    static async createUser(userData) {\n        const { error, value } = _lib_validation__WEBPACK_IMPORTED_MODULE_2__.signupSchema.validate(userData);\n        if (error) throw new Error(error.details[0].message);\n        const { firstName, lastName, email, phone, password, roleId } = value;\n        // Check if user exists\n        const existingUser = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n            where: {\n                email\n            }\n        });\n        if (existingUser) throw new Error('User already exists');\n        // Verify role exists\n        const role = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.role.findUnique({\n            where: {\n                id: roleId\n            }\n        });\n        if (!role) throw new Error('Invalid role');\n        // Hash password and create user\n        const hashedPassword = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.hashPassword)(password);\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.create({\n            data: {\n                firstName,\n                lastName,\n                email,\n                phone,\n                password: hashedPassword,\n                roleId\n            },\n            include: {\n                role: true\n            }\n        });\n        const token = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.createSession)(user.id);\n        return {\n            user: this.sanitizeUser(user),\n            token\n        };\n    }\n    static async authenticateUser(credentials) {\n        const { error, value } = _lib_validation__WEBPACK_IMPORTED_MODULE_2__.loginSchema.validate(credentials);\n        if (error) throw new Error(error.details[0].message);\n        const { email, password } = value;\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n            where: {\n                email\n            },\n            include: {\n                role: true\n            }\n        });\n        if (!user || !await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.verifyPassword)(password, user.password)) {\n            throw new Error('Invalid credentials');\n        }\n        if (!user.isActive) {\n            throw new Error('Account is deactivated');\n        }\n        // Update last login\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.update({\n            where: {\n                id: user.id\n            },\n            data: {\n                lastLoginAt: new Date()\n            }\n        });\n        const token = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.createSession)(user.id);\n        return {\n            user: this.sanitizeUser(user),\n            token\n        };\n    }\n    static async getUserById(id) {\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n            where: {\n                id\n            },\n            include: {\n                role: true\n            }\n        });\n        return user ? this.sanitizeUser(user) : null;\n    }\n    static async updateUser(id, updateData) {\n        const { error, value } = _lib_validation__WEBPACK_IMPORTED_MODULE_2__.updateUserSchema.validate(updateData);\n        if (error) throw new Error(error.details[0].message);\n        if (value.roleId) {\n            const role = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.role.findUnique({\n                where: {\n                    id: value.roleId\n                }\n            });\n            if (!role) throw new Error('Invalid role');\n        }\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.update({\n            where: {\n                id\n            },\n            data: value,\n            include: {\n                role: true\n            }\n        });\n        return this.sanitizeUser(user);\n    }\n    static async changePassword(id, passwordData) {\n        const { error, value } = _lib_validation__WEBPACK_IMPORTED_MODULE_2__.changePasswordSchema.validate(passwordData);\n        if (error) throw new Error(error.details[0].message);\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n            where: {\n                id\n            }\n        });\n        if (!user) throw new Error('User not found');\n        const isValid = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.verifyPassword)(value.currentPassword, user.password);\n        if (!isValid) throw new Error('Current password is incorrect');\n        const hashedPassword = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.hashPassword)(value.newPassword);\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.update({\n            where: {\n                id\n            },\n            data: {\n                password: hashedPassword\n            }\n        });\n        return {\n            success: true\n        };\n    }\n    static async getAllUsers(filters = {}) {\n        const where = {};\n        if (filters.roleId) where.roleId = filters.roleId;\n        if (filters.isActive !== undefined) where.isActive = filters.isActive;\n        if (filters.search) {\n            where.OR = [\n                {\n                    firstName: {\n                        contains: filters.search,\n                        mode: 'insensitive'\n                    }\n                },\n                {\n                    lastName: {\n                        contains: filters.search,\n                        mode: 'insensitive'\n                    }\n                },\n                {\n                    email: {\n                        contains: filters.search,\n                        mode: 'insensitive'\n                    }\n                }\n            ];\n        }\n        const users = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findMany({\n            where,\n            include: {\n                role: true\n            },\n            orderBy: {\n                createdAt: 'desc'\n            }\n        });\n        return users.map((user)=>this.sanitizeUser(user));\n    }\n    static async deactivateUser(id) {\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.update({\n            where: {\n                id\n            },\n            data: {\n                isActive: false\n            },\n            include: {\n                role: true\n            }\n        });\n        // Revoke all sessions\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.session.deleteMany({\n            where: {\n                userId: id\n            }\n        });\n        return this.sanitizeUser(user);\n    }\n    static sanitizeUser(user) {\n        const { password, ...sanitized } = user;\n        return sanitized;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBT0gsTUFBTUksR0FBRyxDQUFDckMsQ0FBQUEsT0FBUSxJQUFJLENBQUNVLFlBQVksQ0FBQ1Y7SUFDN0M7SUFFQSxhQUFhc0MsZUFBZWxDLEVBQUUsRUFBRTtRQUM5QixNQUFNSixPQUFPLE1BQU14QiwrQ0FBTUEsQ0FBQ3dCLElBQUksQ0FBQ2MsTUFBTSxDQUFDO1lBQ3BDWixPQUFPO2dCQUFFRTtZQUFHO1lBQ1pHLE1BQU07Z0JBQUVNLFVBQVU7WUFBTTtZQUN4QkwsU0FBUztnQkFBRUwsTUFBTTtZQUFLO1FBQ3hCO1FBRUEsc0JBQXNCO1FBQ3RCLE1BQU0zQiwrQ0FBTUEsQ0FBQytELE9BQU8sQ0FBQ0MsVUFBVSxDQUFDO1lBQUV0QyxPQUFPO2dCQUFFdUMsUUFBUXJDO1lBQUc7UUFBRTtRQUV4RCxPQUFPLElBQUksQ0FBQ00sWUFBWSxDQUFDVjtJQUMzQjtJQUVBLE9BQU9VLGFBQWFWLElBQUksRUFBRTtRQUN4QixNQUFNLEVBQUVILFFBQVEsRUFBRSxHQUFHNkMsV0FBVyxHQUFHMUM7UUFDbkMsT0FBTzBDO0lBQ1Q7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL21hY2Jvb2twcm8vY29uc3VsdGFuY3ktZmllbGQvc2VydmljZXMvdXNlclNlcnZpY2UuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcHJpc21hIH0gZnJvbSAnLi4vbGliL3ByaXNtYSdcbmltcG9ydCB7IGhhc2hQYXNzd29yZCwgdmVyaWZ5UGFzc3dvcmQsIGNyZWF0ZVNlc3Npb24gfSBmcm9tICcuLi9saWIvYXV0aCdcbmltcG9ydCB7IHNpZ251cFNjaGVtYSwgbG9naW5TY2hlbWEsIHVwZGF0ZVVzZXJTY2hlbWEsIGNoYW5nZVBhc3N3b3JkU2NoZW1hIH0gZnJvbSAnLi4vbGliL3ZhbGlkYXRpb24nXG5cbmV4cG9ydCBjbGFzcyBVc2VyU2VydmljZSB7XG4gIHN0YXRpYyBhc3luYyBjcmVhdGVVc2VyKHVzZXJEYXRhKSB7XG4gICAgY29uc3QgeyBlcnJvciwgdmFsdWUgfSA9IHNpZ251cFNjaGVtYS52YWxpZGF0ZSh1c2VyRGF0YSlcbiAgICBpZiAoZXJyb3IpIHRocm93IG5ldyBFcnJvcihlcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UpXG5cbiAgICBjb25zdCB7IGZpcnN0TmFtZSwgbGFzdE5hbWUsIGVtYWlsLCBwaG9uZSwgcGFzc3dvcmQsIHJvbGVJZCB9ID0gdmFsdWVcblxuICAgIC8vIENoZWNrIGlmIHVzZXIgZXhpc3RzXG4gICAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IGVtYWlsIH0gfSlcbiAgICBpZiAoZXhpc3RpbmdVc2VyKSB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgYWxyZWFkeSBleGlzdHMnKVxuXG4gICAgLy8gVmVyaWZ5IHJvbGUgZXhpc3RzXG4gICAgY29uc3Qgcm9sZSA9IGF3YWl0IHByaXNtYS5yb2xlLmZpbmRVbmlxdWUoeyB3aGVyZTogeyBpZDogcm9sZUlkIH0gfSlcbiAgICBpZiAoIXJvbGUpIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByb2xlJylcblxuICAgIC8vIEhhc2ggcGFzc3dvcmQgYW5kIGNyZWF0ZSB1c2VyXG4gICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBoYXNoUGFzc3dvcmQocGFzc3dvcmQpXG4gICAgXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmNyZWF0ZSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIGZpcnN0TmFtZSxcbiAgICAgICAgbGFzdE5hbWUsXG4gICAgICAgIGVtYWlsLFxuICAgICAgICBwaG9uZSxcbiAgICAgICAgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkLFxuICAgICAgICByb2xlSWRcbiAgICAgIH0sXG4gICAgICBpbmNsdWRlOiB7IHJvbGU6IHRydWUgfVxuICAgIH0pXG5cbiAgICBjb25zdCB0b2tlbiA9IGF3YWl0IGNyZWF0ZVNlc3Npb24odXNlci5pZClcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgdXNlcjogdGhpcy5zYW5pdGl6ZVVzZXIodXNlciksXG4gICAgICB0b2tlblxuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBhdXRoZW50aWNhdGVVc2VyKGNyZWRlbnRpYWxzKSB7XG4gICAgY29uc3QgeyBlcnJvciwgdmFsdWUgfSA9IGxvZ2luU2NoZW1hLnZhbGlkYXRlKGNyZWRlbnRpYWxzKVxuICAgIGlmIChlcnJvcikgdGhyb3cgbmV3IEVycm9yKGVycm9yLmRldGFpbHNbMF0ubWVzc2FnZSlcblxuICAgIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSB2YWx1ZVxuXG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHsgZW1haWwgfSxcbiAgICAgIGluY2x1ZGU6IHsgcm9sZTogdHJ1ZSB9XG4gICAgfSlcblxuICAgIGlmICghdXNlciB8fCAhYXdhaXQgdmVyaWZ5UGFzc3dvcmQocGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY3JlZGVudGlhbHMnKVxuICAgIH1cblxuICAgIGlmICghdXNlci5pc0FjdGl2ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY2NvdW50IGlzIGRlYWN0aXZhdGVkJylcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgbGFzdCBsb2dpblxuICAgIGF3YWl0IHByaXNtYS51c2VyLnVwZGF0ZSh7XG4gICAgICB3aGVyZTogeyBpZDogdXNlci5pZCB9LFxuICAgICAgZGF0YTogeyBsYXN0TG9naW5BdDogbmV3IERhdGUoKSB9XG4gICAgfSlcblxuICAgIGNvbnN0IHRva2VuID0gYXdhaXQgY3JlYXRlU2Vzc2lvbih1c2VyLmlkKVxuICAgIFxuICAgIHJldHVybiB7XG4gICAgICB1c2VyOiB0aGlzLnNhbml0aXplVXNlcih1c2VyKSxcbiAgICAgIHRva2VuXG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldFVzZXJCeUlkKGlkKSB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHsgaWQgfSxcbiAgICAgIGluY2x1ZGU6IHsgcm9sZTogdHJ1ZSB9XG4gICAgfSlcbiAgICBcbiAgICByZXR1cm4gdXNlciA/IHRoaXMuc2FuaXRpemVVc2VyKHVzZXIpIDogbnVsbFxuICB9XG5cbiAgc3RhdGljIGFzeW5jIHVwZGF0ZVVzZXIoaWQsIHVwZGF0ZURhdGEpIHtcbiAgICBjb25zdCB7IGVycm9yLCB2YWx1ZSB9ID0gdXBkYXRlVXNlclNjaGVtYS52YWxpZGF0ZSh1cGRhdGVEYXRhKVxuICAgIGlmIChlcnJvcikgdGhyb3cgbmV3IEVycm9yKGVycm9yLmRldGFpbHNbMF0ubWVzc2FnZSlcblxuICAgIGlmICh2YWx1ZS5yb2xlSWQpIHtcbiAgICAgIGNvbnN0IHJvbGUgPSBhd2FpdCBwcmlzbWEucm9sZS5maW5kVW5pcXVlKHsgd2hlcmU6IHsgaWQ6IHZhbHVlLnJvbGVJZCB9IH0pXG4gICAgICBpZiAoIXJvbGUpIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByb2xlJylcbiAgICB9XG5cbiAgICBjb25zdCB1c2VyID0gYXdhaXQgcHJpc21hLnVzZXIudXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7IGlkIH0sXG4gICAgICBkYXRhOiB2YWx1ZSxcbiAgICAgIGluY2x1ZGU6IHsgcm9sZTogdHJ1ZSB9XG4gICAgfSlcblxuICAgIHJldHVybiB0aGlzLnNhbml0aXplVXNlcih1c2VyKVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGNoYW5nZVBhc3N3b3JkKGlkLCBwYXNzd29yZERhdGEpIHtcbiAgICBjb25zdCB7IGVycm9yLCB2YWx1ZSB9ID0gY2hhbmdlUGFzc3dvcmRTY2hlbWEudmFsaWRhdGUocGFzc3dvcmREYXRhKVxuICAgIGlmIChlcnJvcikgdGhyb3cgbmV3IEVycm9yKGVycm9yLmRldGFpbHNbMF0ubWVzc2FnZSlcblxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHsgd2hlcmU6IHsgaWQgfSB9KVxuICAgIGlmICghdXNlcikgdGhyb3cgbmV3IEVycm9yKCdVc2VyIG5vdCBmb3VuZCcpXG5cbiAgICBjb25zdCBpc1ZhbGlkID0gYXdhaXQgdmVyaWZ5UGFzc3dvcmQodmFsdWUuY3VycmVudFBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKVxuICAgIGlmICghaXNWYWxpZCkgdGhyb3cgbmV3IEVycm9yKCdDdXJyZW50IHBhc3N3b3JkIGlzIGluY29ycmVjdCcpXG5cbiAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGhhc2hQYXNzd29yZCh2YWx1ZS5uZXdQYXNzd29yZClcbiAgICBcbiAgICBhd2FpdCBwcmlzbWEudXNlci51cGRhdGUoe1xuICAgICAgd2hlcmU6IHsgaWQgfSxcbiAgICAgIGRhdGE6IHsgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkIH1cbiAgICB9KVxuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2V0QWxsVXNlcnMoZmlsdGVycyA9IHt9KSB7XG4gICAgY29uc3Qgd2hlcmUgPSB7fVxuICAgIFxuICAgIGlmIChmaWx0ZXJzLnJvbGVJZCkgd2hlcmUucm9sZUlkID0gZmlsdGVycy5yb2xlSWRcbiAgICBpZiAoZmlsdGVycy5pc0FjdGl2ZSAhPT0gdW5kZWZpbmVkKSB3aGVyZS5pc0FjdGl2ZSA9IGZpbHRlcnMuaXNBY3RpdmVcbiAgICBpZiAoZmlsdGVycy5zZWFyY2gpIHtcbiAgICAgIHdoZXJlLk9SID0gW1xuICAgICAgICB7IGZpcnN0TmFtZTogeyBjb250YWluczogZmlsdGVycy5zZWFyY2gsIG1vZGU6ICdpbnNlbnNpdGl2ZScgfSB9LFxuICAgICAgICB7IGxhc3ROYW1lOiB7IGNvbnRhaW5zOiBmaWx0ZXJzLnNlYXJjaCwgbW9kZTogJ2luc2Vuc2l0aXZlJyB9IH0sXG4gICAgICAgIHsgZW1haWw6IHsgY29udGFpbnM6IGZpbHRlcnMuc2VhcmNoLCBtb2RlOiAnaW5zZW5zaXRpdmUnIH0gfVxuICAgICAgXVxuICAgIH1cblxuICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZE1hbnkoe1xuICAgICAgd2hlcmUsXG4gICAgICBpbmNsdWRlOiB7IHJvbGU6IHRydWUgfSxcbiAgICAgIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiAnZGVzYycgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gdXNlcnMubWFwKHVzZXIgPT4gdGhpcy5zYW5pdGl6ZVVzZXIodXNlcikpXG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZGVhY3RpdmF0ZVVzZXIoaWQpIHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgcHJpc21hLnVzZXIudXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7IGlkIH0sXG4gICAgICBkYXRhOiB7IGlzQWN0aXZlOiBmYWxzZSB9LFxuICAgICAgaW5jbHVkZTogeyByb2xlOiB0cnVlIH1cbiAgICB9KVxuXG4gICAgLy8gUmV2b2tlIGFsbCBzZXNzaW9uc1xuICAgIGF3YWl0IHByaXNtYS5zZXNzaW9uLmRlbGV0ZU1hbnkoeyB3aGVyZTogeyB1c2VySWQ6IGlkIH0gfSlcblxuICAgIHJldHVybiB0aGlzLnNhbml0aXplVXNlcih1c2VyKVxuICB9XG5cbiAgc3RhdGljIHNhbml0aXplVXNlcih1c2VyKSB7XG4gICAgY29uc3QgeyBwYXNzd29yZCwgLi4uc2FuaXRpemVkIH0gPSB1c2VyXG4gICAgcmV0dXJuIHNhbml0aXplZFxuICB9XG59Il0sIm5hbWVzIjpbInByaXNtYSIsImhhc2hQYXNzd29yZCIsInZlcmlmeVBhc3N3b3JkIiwiY3JlYXRlU2Vzc2lvbiIsInNpZ251cFNjaGVtYSIsImxvZ2luU2NoZW1hIiwidXBkYXRlVXNlclNjaGVtYSIsImNoYW5nZVBhc3N3b3JkU2NoZW1hIiwiVXNlclNlcnZpY2UiLCJjcmVhdGVVc2VyIiwidXNlckRhdGEiLCJlcnJvciIsInZhbHVlIiwidmFsaWRhdGUiLCJFcnJvciIsImRldGFpbHMiLCJtZXNzYWdlIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJlbWFpbCIsInBob25lIiwicGFzc3dvcmQiLCJyb2xlSWQiLCJleGlzdGluZ1VzZXIiLCJ1c2VyIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwicm9sZSIsImlkIiwiaGFzaGVkUGFzc3dvcmQiLCJjcmVhdGUiLCJkYXRhIiwiaW5jbHVkZSIsInRva2VuIiwic2FuaXRpemVVc2VyIiwiYXV0aGVudGljYXRlVXNlciIsImNyZWRlbnRpYWxzIiwiaXNBY3RpdmUiLCJ1cGRhdGUiLCJsYXN0TG9naW5BdCIsIkRhdGUiLCJnZXRVc2VyQnlJZCIsInVwZGF0ZVVzZXIiLCJ1cGRhdGVEYXRhIiwiY2hhbmdlUGFzc3dvcmQiLCJwYXNzd29yZERhdGEiLCJpc1ZhbGlkIiwiY3VycmVudFBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJzdWNjZXNzIiwiZ2V0QWxsVXNlcnMiLCJmaWx0ZXJzIiwidW5kZWZpbmVkIiwic2VhcmNoIiwiT1IiLCJjb250YWlucyIsIm1vZGUiLCJ1c2VycyIsImZpbmRNYW55Iiwib3JkZXJCeSIsImNyZWF0ZWRBdCIsIm1hcCIsImRlYWN0aXZhdGVVc2VyIiwic2Vzc2lvbiIsImRlbGV0ZU1hbnkiLCJ1c2VySWQiLCJzYW5pdGl6ZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./services/userService.js\n");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "cookie":
/*!*************************!*\
  !*** external "cookie" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("cookie");

/***/ }),

/***/ "joi":
/*!**********************!*\
  !*** external "joi" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("joi");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fsignup&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2Fsignup.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();